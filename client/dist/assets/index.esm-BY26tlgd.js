import{c as tt}from"./chunk-56K2BSAJ-DbQ6m5gF.js";import{X as Dt,k as rt,H as Et,o as St,j as _e,m as kt,n as st,I as Ct,R as w}from"./index-Cy3YeA2Q.js";var[Rt,Tt]=Dt({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),Lt=rt((e,s)=>{const t=Et("FormError",e),a=St(e),l=tt();return l?.isInvalid?_e.jsx(Rt,{value:t,children:_e.jsx(kt.div,{...l?.getErrorMessageProps(a,s),className:st("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...t.text}})}):null});Lt.displayName="FormErrorMessage";var Mt=rt((e,s)=>{const t=Tt(),a=tt();if(!a?.isInvalid)return null;const l=st("chakra-form__error-icon",e.className);return _e.jsx(Ct,{ref:s,"aria-hidden":!0,...e,__css:t.icon,className:l,children:_e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});Mt.displayName="FormErrorIcon";var fe=e=>e.type==="checkbox",ie=e=>e instanceof Date,U=e=>e==null;const it=e=>typeof e=="object";var R=e=>!U(e)&&!Array.isArray(e)&&it(e)&&!ie(e),at=e=>R(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,Ut=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,lt=(e,s)=>e.has(Ut(s)),Ot=e=>{const s=e.constructor&&e.constructor.prototype;return R(s)&&s.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function O(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Te&&(e instanceof Blob||e instanceof FileList))&&(t||R(e)))if(s=t?[]:{},!t&&!Ot(e))s=e;else for(const a in e)e.hasOwnProperty(a)&&(s[a]=O(e[a]));else return e;return s}var ce=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,f=(e,s,t)=>{if(!s||!R(e))return t;const a=ce(s.split(/[,[\].]+?/)).reduce((l,n)=>U(l)?l:l[n],e);return D(a)||a===e?D(e[s])?t:e[s]:a},q=e=>typeof e=="boolean";const be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pt=w.createContext(null),Le=()=>w.useContext(pt);var ut=(e,s,t,a=!0)=>{const l={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const y=n;return s._proxyFormState[y]!==W.all&&(s._proxyFormState[y]=!a||W.all),t&&(t[y]=!0),e[y]}});return l},I=e=>R(e)&&!Object.keys(e).length,nt=(e,s,t,a)=>{t(e);const{name:l,...n}=e;return I(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(y=>s[y]===(!a||W.all))},he=e=>Array.isArray(e)?e:[e],ot=(e,s,t)=>!e||!s||e===s||he(e).some(a=>a&&(t?a===s:a.startsWith(s)||s.startsWith(a)));function Me(e){const s=w.useRef(e);s.current=e,w.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function It(e){const s=Le(),{control:t=s.control,disabled:a,name:l,exact:n}=e||{},[y,h]=w.useState(t._formState),A=w.useRef(!0),E=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),_=w.useRef(l);return _.current=l,Me({disabled:a,next:v=>A.current&&ot(_.current,v.name,n)&&nt(v,E.current,t._updateFormState)&&h({...t._formState,...v}),subject:t._subjects.state}),w.useEffect(()=>(A.current=!0,E.current.isValid&&t._updateValid(!0),()=>{A.current=!1}),[t]),ut(y,t,E.current,!1)}var $=e=>typeof e=="string",ft=(e,s,t,a,l)=>$(e)?(a&&s.watch.add(e),f(t,e,l)):Array.isArray(e)?e.map(n=>(a&&s.watch.add(n),f(t,n))):(a&&(s.watchAll=!0),t);function Nt(e){const s=Le(),{control:t=s.control,name:a,defaultValue:l,disabled:n,exact:y}=e||{},h=w.useRef(a);h.current=a,Me({disabled:n,subject:t._subjects.values,next:_=>{ot(h.current,_.name,y)&&E(O(ft(h.current,t._names,_.values||t._formValues,!1,l)))}});const[A,E]=w.useState(t._getWatch(a,l));return w.useEffect(()=>t._removeUnmounted()),A}var Ue=e=>/^\w*$/.test(e),ct=e=>ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),x=(e,s,t)=>{let a=-1;const l=Ue(s)?[s]:ct(s),n=l.length,y=n-1;for(;++a<n;){const h=l[a];let A=t;if(a!==y){const E=e[h];A=R(E)||Array.isArray(E)?E:isNaN(+l[a+1])?{}:[]}e[h]=A,e=e[h]}return e};function Bt(e){const s=Le(),{name:t,disabled:a,control:l=s.control,shouldUnregister:n}=e,y=lt(l._names.array,t),h=Nt({control:l,name:t,defaultValue:f(l._formValues,t,f(l._defaultValues,t,e.defaultValue)),exact:!0}),A=It({control:l,name:t}),E=w.useRef(l.register(t,{...e.rules,value:h,...q(e.disabled)?{disabled:e.disabled}:{}}));return w.useEffect(()=>{const _=l._options.shouldUnregister||n,v=(P,H)=>{const L=f(l._fields,P);L&&(L._f.mount=H)};if(v(t,!0),_){const P=O(f(l._options.defaultValues,t));x(l._defaultValues,t,P),D(f(l._formValues,t))&&x(l._formValues,t,P)}return()=>{(y?_&&!l._state.action:_)?l.unregister(t):v(t,!1)}},[t,l,y,n]),w.useEffect(()=>{f(l._fields,t)&&l._updateDisabledField({disabled:a,fields:l._fields,name:t,value:f(l._fields,t)._f.value})},[a,t,l]),{field:{name:t,value:h,...q(a)||A.disabled?{disabled:A.disabled||a}:{},onChange:w.useCallback(_=>E.current.onChange({target:{value:at(_),name:t},type:be.CHANGE}),[t]),onBlur:w.useCallback(()=>E.current.onBlur({target:{value:f(l._formValues,t),name:t},type:be.BLUR}),[t,l]),ref:_=>{const v=f(l._fields,t);v&&_&&(v._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:P=>_.setCustomValidity(P),reportValidity:()=>_.reportValidity()})}},formState:A,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(A.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(A.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(A.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!f(A.validatingFields,t)},error:{enumerable:!0,get:()=>f(A.errors,t)}})}}const rr=e=>e.render(Bt(e));var Pt=(e,s,t,a,l)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[a]:l||!0}}:{},Ke=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched}),Ge=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const oe=(e,s,t,a)=>{for(const l of t||Object.keys(e)){const n=f(e,l);if(n){const{_f:y,...h}=n;if(y){if(y.refs&&y.refs[0]&&s(y.refs[0],l)&&!a)break;if(y.ref&&s(y.ref,y.name)&&!a)break;oe(h,s)}else R(h)&&oe(h,s)}}};var jt=(e,s,t)=>{const a=ce(f(e,t));return x(a,"root",s[t]),x(e,t,a),e},Oe=e=>e.type==="file",J=e=>typeof e=="function",Fe=e=>{if(!Te)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ve=e=>$(e),pe=e=>e.type==="radio",Ve=e=>e instanceof RegExp;const Xe={value:!1,isValid:!1},ze={value:!0,isValid:!0};var dt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?ze:{value:e[0].value,isValid:!0}:ze:Xe}return Xe};const Je={isValid:!1,value:null};var yt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Je):Je;function Qe(e,s,t="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||q(e)&&!e)return{type:t,message:ve(e)?e:"",ref:s}}var se=e=>R(e)&&!Ve(e)?e:{value:e,message:""},Ye=async(e,s,t,a,l)=>{const{ref:n,refs:y,required:h,maxLength:A,minLength:E,min:_,max:v,pattern:P,validate:H,name:L,valueAsNumber:Ae,mount:X,disabled:z}=e._f,F=f(s,L);if(!X||z)return{};const Z=y?y[0]:n,K=b=>{a&&Z.reportValidity&&(Z.setCustomValidity(q(b)?"":b||""),Z.reportValidity())},S={},ee=pe(n),de=fe(n),Q=ee||de,te=(Ae||Oe(n))&&D(n.value)&&D(F)||Fe(n)&&n.value===""||F===""||Array.isArray(F)&&!F.length,N=Pt.bind(null,L,t,S),ye=(b,V,k,M=G.maxLength,j=G.minLength)=>{const B=b?V:k;S[L]={type:b?M:j,message:B,ref:n,...N(b?M:j,B)}};if(l?!Array.isArray(F)||!F.length:h&&(!Q&&(te||U(F))||q(F)&&!F||de&&!dt(y).isValid||ee&&!yt(y).isValid)){const{value:b,message:V}=ve(h)?{value:!!h,message:h}:se(h);if(b&&(S[L]={type:G.required,message:V,ref:Z,...N(G.required,V)},!t))return K(V),S}if(!te&&(!U(_)||!U(v))){let b,V;const k=se(v),M=se(_);if(!U(F)&&!isNaN(F)){const j=n.valueAsNumber||F&&+F;U(k.value)||(b=j>k.value),U(M.value)||(V=j<M.value)}else{const j=n.valueAsDate||new Date(F),B=ue=>new Date(new Date().toDateString()+" "+ue),ae=n.type=="time",le=n.type=="week";$(k.value)&&F&&(b=ae?B(F)>B(k.value):le?F>k.value:j>new Date(k.value)),$(M.value)&&F&&(V=ae?B(F)<B(M.value):le?F<M.value:j<new Date(M.value))}if((b||V)&&(ye(!!b,k.message,M.message,G.max,G.min),!t))return K(S[L].message),S}if((A||E)&&!te&&($(F)||l&&Array.isArray(F))){const b=se(A),V=se(E),k=!U(b.value)&&F.length>+b.value,M=!U(V.value)&&F.length<+V.value;if((k||M)&&(ye(k,b.message,V.message),!t))return K(S[L].message),S}if(P&&!te&&$(F)){const{value:b,message:V}=se(P);if(Ve(b)&&!F.match(b)&&(S[L]={type:G.pattern,message:V,ref:n,...N(G.pattern,V)},!t))return K(V),S}if(H){if(J(H)){const b=await H(F,s),V=Qe(b,Z);if(V&&(S[L]={...V,...N(G.validate,V.message)},!t))return K(V.message),S}else if(R(H)){let b={};for(const V in H){if(!I(b)&&!t)break;const k=Qe(await H[V](F,s),Z,V);k&&(b={...k,...N(V,k.message)},K(k.message),t&&(S[L]=b))}if(!I(b)&&(S[L]={ref:Z,...b},!t))return S}}return K(!0),S};function qt(e,s){const t=s.slice(0,-1).length;let a=0;for(;a<t;)e=D(e)?a++:e[s[a++]];return e}function Wt(e){for(const s in e)if(e.hasOwnProperty(s)&&!D(e[s]))return!1;return!0}function C(e,s){const t=Array.isArray(s)?s:Ue(s)?[s]:ct(s),a=t.length===1?e:qt(e,t),l=t.length-1,n=t[l];return a&&delete a[n],l!==0&&(R(a)&&I(a)||Array.isArray(a)&&Wt(a))&&C(e,t.slice(0,-1)),e}var ke=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}},me=e=>U(e)||!it(e);function Y(e,s){if(me(e)||me(s))return e===s;if(ie(e)&&ie(s))return e.getTime()===s.getTime();const t=Object.keys(e),a=Object.keys(s);if(t.length!==a.length)return!1;for(const l of t){const n=e[l];if(!a.includes(l))return!1;if(l!=="ref"){const y=s[l];if(ie(n)&&ie(y)||R(n)&&R(y)||Array.isArray(n)&&Array.isArray(y)?!Y(n,y):n!==y)return!1}}return!0}var gt=e=>e.type==="select-multiple",Ht=e=>pe(e)||fe(e),Ce=e=>Fe(e)&&e.isConnected,ht=e=>{for(const s in e)if(J(e[s]))return!0;return!1};function xe(e,s={}){const t=Array.isArray(e);if(R(e)||t)for(const a in e)Array.isArray(e[a])||R(e[a])&&!ht(e[a])?(s[a]=Array.isArray(e[a])?[]:{},xe(e[a],s[a])):U(e[a])||(s[a]=!0);return s}function vt(e,s,t){const a=Array.isArray(e);if(R(e)||a)for(const l in e)Array.isArray(e[l])||R(e[l])&&!ht(e[l])?D(s)||me(t[l])?t[l]=Array.isArray(e[l])?xe(e[l],[]):{...xe(e[l])}:vt(e[l],U(s)?{}:s[l],t[l]):t[l]=!Y(e[l],s[l]);return t}var ge=(e,s)=>vt(e,s,xe(s)),_t=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:a})=>D(e)?e:s?e===""?NaN:e&&+e:t&&$(e)?new Date(e):a?a(e):e;function Re(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return Oe(s)?s.files:pe(s)?yt(e.refs).value:gt(s)?[...s.selectedOptions].map(({value:t})=>t):fe(s)?dt(e.refs).value:_t(D(s.value)?e.ref.value:s.value,e)}var $t=(e,s,t,a)=>{const l={};for(const n of e){const y=f(s,n);y&&x(l,n,y._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:a}},ne=e=>D(e)?e:Ve(e)?e.source:R(e)?Ve(e.value)?e.value.source:e.value:e,Zt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function et(e,s,t){const a=f(e,t);if(a||Ue(t))return{error:a,name:t};const l=t.split(".");for(;l.length;){const n=l.join("."),y=f(s,n),h=f(e,n);if(y&&!Array.isArray(y)&&t!==n)return{name:t};if(h&&h.type)return{name:n,error:h};l.pop()}return{name:t}}var Kt=(e,s,t,a,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(s||e):(t?a.isOnBlur:l.isOnBlur)?!e:(t?a.isOnChange:l.isOnChange)?e:!0,Gt=(e,s)=>!ce(f(e,s)).length&&C(e,s);const Xt={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function zt(e={}){let s={...Xt,...e},t={submitCount:0,isDirty:!1,isLoading:J(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},l=R(s.defaultValues)||R(s.values)?O(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:O(l),y={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},A,E=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:ke(),array:ke(),state:ke()},P=Ke(s.mode),H=Ke(s.reValidateMode),L=s.criteriaMode===W.all,Ae=r=>i=>{clearTimeout(E),E=setTimeout(r,i)},X=async r=>{if(_.isValid||r){const i=s.resolver?I((await Q()).errors):await N(a,!0);i!==t.isValid&&v.state.next({isValid:i})}},z=(r,i)=>{(_.isValidating||_.validatingFields)&&((r||Array.from(h.mount)).forEach(u=>{u&&(i?x(t.validatingFields,u,i):C(t.validatingFields,u))}),v.state.next({validatingFields:t.validatingFields,isValidating:!I(t.validatingFields)}))},F=(r,i=[],u,d,c=!0,o=!0)=>{if(d&&u){if(y.action=!0,o&&Array.isArray(f(a,r))){const g=u(f(a,r),d.argA,d.argB);c&&x(a,r,g)}if(o&&Array.isArray(f(t.errors,r))){const g=u(f(t.errors,r),d.argA,d.argB);c&&x(t.errors,r,g),Gt(t.errors,r)}if(_.touchedFields&&o&&Array.isArray(f(t.touchedFields,r))){const g=u(f(t.touchedFields,r),d.argA,d.argB);c&&x(t.touchedFields,r,g)}_.dirtyFields&&(t.dirtyFields=ge(l,n)),v.state.next({name:r,isDirty:b(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else x(n,r,i)},Z=(r,i)=>{x(t.errors,r,i),v.state.next({errors:t.errors})},K=r=>{t.errors=r,v.state.next({errors:t.errors,isValid:!1})},S=(r,i,u,d)=>{const c=f(a,r);if(c){const o=f(n,r,D(u)?f(l,r):u);D(o)||d&&d.defaultChecked||i?x(n,r,i?o:Re(c._f)):M(r,o),y.mount&&X()}},ee=(r,i,u,d,c)=>{let o=!1,g=!1;const m={name:r},T=!!(f(a,r)&&f(a,r)._f.disabled);if(!u||d){_.isDirty&&(g=t.isDirty,t.isDirty=m.isDirty=b(),o=g!==m.isDirty);const p=T||Y(f(l,r),i);g=!!(!T&&f(t.dirtyFields,r)),p||T?C(t.dirtyFields,r):x(t.dirtyFields,r,!0),m.dirtyFields=t.dirtyFields,o=o||_.dirtyFields&&g!==!p}if(u){const p=f(t.touchedFields,r);p||(x(t.touchedFields,r,u),m.touchedFields=t.touchedFields,o=o||_.touchedFields&&p!==u)}return o&&c&&v.state.next(m),o?m:{}},de=(r,i,u,d)=>{const c=f(t.errors,r),o=_.isValid&&q(i)&&t.isValid!==i;if(e.delayError&&u?(A=Ae(()=>Z(r,u)),A(e.delayError)):(clearTimeout(E),A=null,u?x(t.errors,r,u):C(t.errors,r)),(u?!Y(c,u):c)||!I(d)||o){const g={...d,...o&&q(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...g},v.state.next(g)}},Q=async r=>{z(r,!0);const i=await s.resolver(n,s.context,$t(r||h.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return z(r),i},te=async r=>{const{errors:i}=await Q(r);if(r)for(const u of r){const d=f(i,u);d?x(t.errors,u,d):C(t.errors,u)}else t.errors=i;return i},N=async(r,i,u={valid:!0})=>{for(const d in r){const c=r[d];if(c){const{_f:o,...g}=c;if(o){const m=h.array.has(o.name);z([d],!0);const T=await Ye(c,n,L,s.shouldUseNativeValidation&&!i,m);if(z([d]),T[o.name]&&(u.valid=!1,i))break;!i&&(f(T,o.name)?m?jt(t.errors,T,o.name):x(t.errors,o.name,T[o.name]):C(t.errors,o.name))}g&&await N(g,i,u)}}return u.valid},ye=()=>{for(const r of h.unMount){const i=f(a,r);i&&(i._f.refs?i._f.refs.every(u=>!Ce(u)):!Ce(i._f.ref))&&we(r)}h.unMount=new Set},b=(r,i)=>(r&&i&&x(n,r,i),!Y(Ie(),l)),V=(r,i,u)=>ft(r,h,{...y.mount?n:D(i)?l:$(r)?{[r]:i}:i},u,i),k=r=>ce(f(y.mount?n:l,r,e.shouldUnregister?f(l,r,[]):[])),M=(r,i,u={})=>{const d=f(a,r);let c=i;if(d){const o=d._f;o&&(!o.disabled&&x(n,r,_t(i,o)),c=Fe(o.ref)&&U(i)?"":i,gt(o.ref)?[...o.ref.options].forEach(g=>g.selected=c.includes(g.value)):o.refs?fe(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(m=>m===g.value):c===g.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(g=>g.checked=g.value===c):Oe(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||v.values.next({name:r,values:{...n}})))}(u.shouldDirty||u.shouldTouch)&&ee(r,c,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ue(r)},j=(r,i,u)=>{for(const d in i){const c=i[d],o=`${r}.${d}`,g=f(a,o);(h.array.has(r)||!me(c)||g&&!g._f)&&!ie(c)?j(o,c,u):M(o,c,u)}},B=(r,i,u={})=>{const d=f(a,r),c=h.array.has(r),o=O(i);x(n,r,o),c?(v.array.next({name:r,values:{...n}}),(_.isDirty||_.dirtyFields)&&u.shouldDirty&&v.state.next({name:r,dirtyFields:ge(l,n),isDirty:b(r,o)})):d&&!d._f&&!U(o)?j(r,o,u):M(r,o,u),Ge(r,h)&&v.state.next({...t}),v.values.next({name:y.mount?r:void 0,values:{...n}})},ae=async r=>{const i=r.target;let u=i.name,d=!0;const c=f(a,u),o=()=>i.type?Re(c._f):at(r),g=m=>{d=Number.isNaN(m)||m===f(n,u,m)};if(c){let m,T;const p=o(),re=r.type===be.BLUR||r.type===be.FOCUS_OUT,xt=!Zt(c._f)&&!s.resolver&&!f(t.errors,u)&&!c._f.deps||Kt(re,f(t.touchedFields,u),t.isSubmitted,H,P),Ee=Ge(u,h,re);x(n,u,p),re?(c._f.onBlur&&c._f.onBlur(r),A&&A(0)):c._f.onChange&&c._f.onChange(r);const Se=ee(u,p,re,!1),At=!I(Se)||Ee;if(!re&&v.values.next({name:u,type:r.type,values:{...n}}),xt)return _.isValid&&X(),At&&v.state.next({name:u,...Ee?{}:Se});if(!re&&Ee&&v.state.next({...t}),s.resolver){const{errors:$e}=await Q([u]);if(g(p),d){const wt=et(t.errors,a,u),Ze=et($e,a,wt.name||u);m=Ze.error,u=Ze.name,T=I($e)}}else z([u],!0),m=(await Ye(c,n,L,s.shouldUseNativeValidation))[u],z([u]),g(p),d&&(m?T=!1:_.isValid&&(T=await N(a,!0)));d&&(c._f.deps&&ue(c._f.deps),de(u,T,m,Se))}},le=(r,i)=>{if(f(t.errors,i)&&r.focus)return r.focus(),1},ue=async(r,i={})=>{let u,d;const c=he(r);if(s.resolver){const o=await te(D(r)?r:c);u=I(o),d=r?!c.some(g=>f(o,g)):u}else r?(d=(await Promise.all(c.map(async o=>{const g=f(a,o);return await N(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!d&&!t.isValid)&&X()):d=u=await N(a);return v.state.next({...!$(r)||_.isValid&&u!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:u}:{},errors:t.errors}),i.shouldFocus&&!d&&oe(a,le,r?c:h.mount),d},Ie=r=>{const i={...l,...y.mount?n:{}};return D(r)?i:$(r)?f(i,r):r.map(u=>f(i,u))},Ne=(r,i)=>({invalid:!!f((i||t).errors,r),isDirty:!!f((i||t).dirtyFields,r),isTouched:!!f((i||t).touchedFields,r),isValidating:!!f((i||t).validatingFields,r),error:f((i||t).errors,r)}),bt=r=>{r&&he(r).forEach(i=>C(t.errors,i)),v.state.next({errors:r?t.errors:{}})},Be=(r,i,u)=>{const d=(f(a,r,{_f:{}})._f||{}).ref;x(t.errors,r,{...i,ref:d}),v.state.next({name:r,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&d&&d.focus&&d.focus()},Ft=(r,i)=>J(r)?v.values.subscribe({next:u=>r(V(void 0,i),u)}):V(r,i,!0),we=(r,i={})=>{for(const u of r?he(r):h.mount)h.mount.delete(u),h.array.delete(u),i.keepValue||(C(a,u),C(n,u)),!i.keepError&&C(t.errors,u),!i.keepDirty&&C(t.dirtyFields,u),!i.keepTouched&&C(t.touchedFields,u),!i.keepIsValidating&&C(t.validatingFields,u),!s.shouldUnregister&&!i.keepDefaultValue&&C(l,u);v.values.next({values:{...n}}),v.state.next({...t,...i.keepDirty?{isDirty:b()}:{}}),!i.keepIsValid&&X()},Pe=({disabled:r,name:i,field:u,fields:d,value:c})=>{if(q(r)){const o=r?void 0:D(c)?Re(u?u._f:f(d,i)._f):c;x(n,i,o),ee(i,o,!1,!1,!0)}},De=(r,i={})=>{let u=f(a,r);const d=q(i.disabled);return x(a,r,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:r}},name:r,mount:!0,...i}}),h.mount.add(r),u?Pe({field:u,disabled:i.disabled,name:r,value:i.value}):S(r,!0,i.value),{...d?{disabled:i.disabled}:{},...s.progressive?{required:!!i.required,min:ne(i.min),max:ne(i.max),minLength:ne(i.minLength),maxLength:ne(i.maxLength),pattern:ne(i.pattern)}:{},name:r,onChange:ae,onBlur:ae,ref:c=>{if(c){De(r,i),u=f(a,r);const o=D(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Ht(o),m=u._f.refs||[];if(g?m.find(T=>T===o):o===u._f.ref)return;x(a,r,{_f:{...u._f,...g?{refs:[...m.filter(Ce),o,...Array.isArray(f(l,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),S(r,!1,void 0,o)}else u=f(a,r,{}),u._f&&(u._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(lt(h.array,r)&&y.action)&&h.unMount.add(r)}}},je=()=>s.shouldFocusError&&oe(a,le,h.mount),Vt=r=>{q(r)&&(v.state.next({disabled:r}),oe(a,(i,u)=>{let d=r;const c=f(a,u);c&&q(c._f.disabled)&&(d||(d=c._f.disabled)),i.disabled=d},0,!1))},qe=(r,i)=>async u=>{let d;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let c=O(n);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:g}=await Q();t.errors=o,c=g}else await N(a);if(C(t.errors,"root"),I(t.errors)){v.state.next({errors:{}});try{await r(c,u)}catch(o){d=o}}else i&&await i({...t.errors},u),je(),setTimeout(je);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(t.errors)&&!d,submitCount:t.submitCount+1,errors:t.errors}),d)throw d},mt=(r,i={})=>{f(a,r)&&(D(i.defaultValue)?B(r,O(f(l,r))):(B(r,i.defaultValue),x(l,r,O(i.defaultValue))),i.keepTouched||C(t.touchedFields,r),i.keepDirty||(C(t.dirtyFields,r),t.isDirty=i.defaultValue?b(r,O(f(l,r))):b()),i.keepError||(C(t.errors,r),_.isValid&&X()),v.state.next({...t}))},We=(r,i={})=>{const u=r?O(r):l,d=O(u),c=I(r),o=c?l:d;if(i.keepDefaultValues||(l=u),!i.keepValues){if(i.keepDirtyValues)for(const g of h.mount)f(t.dirtyFields,g)?x(o,g,f(n,g)):B(g,f(o,g));else{if(Te&&D(r))for(const g of h.mount){const m=f(a,g);if(m&&m._f){const T=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(Fe(T)){const p=T.closest("form");if(p){p.reset();break}}}}a={}}n=e.shouldUnregister?i.keepDefaultValues?O(l):{}:O(o),v.array.next({values:{...o}}),v.values.next({values:{...o}})}h={mount:i.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!_.isValid||!!i.keepIsValid||!!i.keepDirtyValues,y.watch=!!e.shouldUnregister,v.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:c?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!Y(r,l)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?[]:i.keepDirtyValues?i.keepDefaultValues&&n?ge(l,n):t.dirtyFields:i.keepDefaultValues&&r?ge(l,r):{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},He=(r,i)=>We(J(r)?r(n):r,i);return{control:{register:De,unregister:we,getFieldState:Ne,handleSubmit:qe,setError:Be,_executeSchema:Q,_getWatch:V,_getDirty:b,_updateValid:X,_removeUnmounted:ye,_updateFieldArray:F,_updateDisabledField:Pe,_getFieldArray:k,_reset:We,_resetDefaultValues:()=>J(s.defaultValues)&&s.defaultValues().then(r=>{He(r,s.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:Vt,_subjects:v,_proxyFormState:_,_setErrors:K,get _fields(){return a},get _formValues(){return n},get _state(){return y},set _state(r){y=r},get _defaultValues(){return l},get _names(){return h},set _names(r){h=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:ue,register:De,handleSubmit:qe,watch:Ft,setValue:B,getValues:Ie,reset:He,resetField:mt,clearErrors:bt,unregister:we,setError:Be,setFocus:(r,i={})=>{const u=f(a,r),d=u&&u._f;if(d){const c=d.refs?d.refs[0]:d.ref;c.focus&&(c.focus(),i.shouldSelect&&c.select())}},getFieldState:Ne}}function sr(e={}){const s=w.useRef(),t=w.useRef(),[a,l]=w.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...zt(e),formState:a});const n=s.current.control;return n._options=e,Me({subject:n._subjects.state,next:y=>{nt(y,n._proxyFormState,n._updateFormState,!0)&&l({...n._formState})}}),w.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),w.useEffect(()=>{if(n._proxyFormState.isDirty){const y=n._getDirty();y!==a.isDirty&&n._subjects.state.next({isDirty:y})}},[n,a.isDirty]),w.useEffect(()=>{e.values&&!Y(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,l(y=>({...y}))):n._resetDefaultValues()},[e.values,n]),w.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),w.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),w.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),s.current.formState=ut(a,n),s.current}export{rr as C,Lt as F,Pt as a,f as g,x as s,sr as u};
