import{a as j,h as k,r as i,j as d,f as T,T as v}from"./index-Cy3YeA2Q.js";import{s as g,D as y}from"./SearchFilterData-BCIYYHZ7.js";import{T as R}from"./index-T2zhW-2C.js";import{u as w}from"./useBackendService-BS2zoe7N.js";import"./chunk-EL2VKIZQ-0D5iE27d.js";import"./chunk-56K2BSAJ-DbQ6m5gF.js";function C(t,s,l){return Object.keys(t).reduce((n,o)=>(n[o]=l(`${s}.keys.${o}`),n),{})}const B=()=>{const t="roles",{t:s}=j(),{getSettingsData:l,setSettingsData:n}=k(),{listRoles:o,deleteRole:h,deleteRoles:b}=w(),m=l(`${t}.filter`,g),[c,p]=i.useState(m),[r,E]=i.useState(null),[$,u]=i.useState(0),[x,f]=i.useState(!1);i.useEffect(()=>{(async()=>{f(!0);const a=await o(c);E(a),f(!1)})()},[$]);const L=e=>{p(e),u(a=>a+1),n(`${t}.filter`,e,g.partial())},D=async e=>{Array.isArray(e)?await b(Object.values(e.map(a=>a.id))):await h(e.id),u(a=>a+1)},S=e=>{n(`${t}.headers`,e)};return r?r.content.length==0?d.jsx(v,{children:s(`${t}.errors.noData`)}):d.jsx(y,{data:r.content,filter:c,pagination:r.pagination,headers:C(r.content[0],t,s),visibleHeaders:l(`${t}.headers`),createLinkText:s(`${t}.buttons.create`),element:(e,a)=>d.jsx(R,{field:`${t}.values.${e}`,value:a}),filterEnabled:!0,checkboxEnabled:!0,editEnabled:!0,deleteEnabled:!0,sortingEnabled:!0,pagingEnabled:!0,createEnabled:!0,viewEnabled:!0,isLoading:x,createLink:"create",viewLink:e=>`${e.id}`,onFilterChange:L,onVisibleHeadersChange:S,editLink:e=>`${e.id}/edit`,onDelete:D}):d.jsx(T,{})};export{B as default};
