import{a as v,h as y,r as o,j as d,f as j,T as C}from"./index-Cy3YeA2Q.js";import{s as h,D as F}from"./SearchFilterData-BCIYYHZ7.js";import{u as H}from"./useBackendService-BS2zoe7N.js";import"./chunk-EL2VKIZQ-0D5iE27d.js";import"./chunk-56K2BSAJ-DbQ6m5gF.js";function w(t,s,l){return Object.keys(t).reduce((r,n)=>(r[n]=l(`${s}.keys.${n}`),r),{})}const K=()=>{const t="targets",{t:s,i18n:l}=v(),{getSettingsData:r,setSettingsData:n}=y(),{listTargets:b,deleteTarget:m}=H(),p=r(`${t}.filter`,h),[c,x]=o.useState(p),[i,$]=o.useState(null),[L,u]=o.useState(0),[T,g]=o.useState(!1),D=(e,a)=>{const f=`${t}.values.${e}`;return l.exists(f)?s(f,{val:a}):a.toString()};o.useEffect(()=>{(async()=>{g(!0);const a=await b(c);$(a),g(!1)})()},[L]);const E=e=>{x(e),u(a=>a+1),n(`${t}.filter`,e,h)},S=async e=>{Array.isArray(e)||await m(e.id),u(a=>a+1)},k=e=>{n(`${t}.headers`,e)};return i?i.targets.length==0?d.jsx(C,{children:s(`${t}.errors.noData`)}):d.jsx(F,{data:i.targets,filter:c,pagination:i.pagination,headers:w(i.targets[0],t,s),visibleHeaders:r(`${t}.headers`),createLinkText:s(`${t}.buttons.create`),element:D,filterEnabled:!0,editEnabled:!0,deleteEnabled:!0,sortingEnabled:!0,pagingEnabled:!0,createEnabled:!0,viewEnabled:!0,isLoading:T,createLink:"create",viewLink:e=>`${e.id}`,onFilterChange:E,onVisibleHeadersChange:k,editLink:e=>`${e.id}/edit`,onDelete:S}):d.jsx(j,{})};export{K as default};
